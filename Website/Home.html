<!DOCTYPE html>
<html>
<head>
	<meta name="Therapist">
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="MyTherapyStyle.css">
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
		<div class="container">
		  <a class="navbar-brand" href="Home.html"><i class="fa fa-home"></i> MyTherapy</a>
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			  </button>
		  <div class="collapse navbar-collapse" id="navbarResponsive">
			<ul class="navbar-nav ml-auto">
			  <!-- Account Details-->
			  <li class="nav-item logged-in" style="display: none;">
				<a href="#" class="link modal-trigger" data-target="modal-account"><i class="fa fa-id-card" aria-hidden="true"></i> Account</a>
			  </li>

			  <!-- Logout-->
			  <li class="nav-item logged-in" style="display: none;">
				<a href="#" id="logout" class="link"><i class="fa fa-user-circle" aria-hidden="true"></i> Logout</a>
			  </li>

			  <!-- Log in-->
			  <li class="nav-item logged-out" style="display: none;">
				<a href="#" class="link modal-trigger" data-target="modal-login"><i class="fa fa-user-circle" aria-hidden="true"></i> Log in</a>
			  </li>

			  <!-- Apply -->
			  <li class="nav-item logged-out" style="display: none;">
				<a href="#" class="link modal-header" data-target="modal-signup"><i class="fa fa-user-plus" aria-hidden="true"></i> Apply</a>
				</li> 

				<!-- Therapist Section-->
				<li class="admin" style="display: none;">
					<a href="therapist.html" class="link"><i class="fa fa-" aria-hidden="true">Patient Management</i></a>
				</li>

				<!-- Super User page-->
				<li class="super" style="display: none;">
					<a href="superzone.html" class="link"><i class="fa fa-wrench" aria-hidden="true">Maintenance</i></a>
				</li>
			</ul>
		  </div>
		</div>
	  </nav>
	
	<!-- SIGN UP MODAL -->
	<div id="modal-signup" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<span class="close">&times;</span>
				<h4>Sign up</h4>
			</div>
		  
			<!-- Email -->
		  	<form id="signup-form">
			<div class="input-field">
			  <input type="email" id="signup-email" required />
			  <label for="signup-email">Email address</label>
			</div>

			<!-- Name -->
			<div class="input-field">
				<input type="text" id="signup-name" required />
				<label for="signup-name">Name</label>
			</div>
			
			<!-- Institution field-->
			<div class="input-field">
				<input type="text" id="signup-inst" required />
				<label for="signup-inst">Institution</label>
			</div>

			<!-- Inst Address-->
			<div class="input-field">
				<input type="text" id="signup-addr" required />
				<label for="signup-addr">Institution Address</label>
			</div>

			<!-- password-->
			<div class="input-field">
				<input type="password" id="signup-password" required />
				<label for="signup-password">Choose password</label>
			</div>

			<button class="btn">Sign up</button>
		  </form>
		</div>
	  </div>

	  <!-- Account Modal-->
	  <div id="modal-account" class="modal">
		<div class="modal-content" style="width: 30%;">
			  <h4 class="mod-header">Account Details</h4>
			  <div class="account-details"></div>
		  </div>
	  </div>

	  <!-- LOGIN MODAL -->
	  <div id="modal-login" class="modal">
		<div class="modal-content" style="width: 30%;">
			<h4 class="mod-header">Login</h4>

		  <form id="login-form">
			<div class="input-field">
			  <input type="email" id="login-email" required />
			  <label for="login-email">Email address</label>
			</div>
			<div class="input-field">
			  <input type="password" id="login-password" required />
			  <label for="login-password">Your password</label>
			</div>
			<button class="matBTN">Login</button>
		  </form>
		</div>
	  </div>

	  <!-- Create Entry -->
	<div id="modal-create" class="modal">
		<div class="modal-content" style="width: 30%;">
			<h4 class="mod-header">New Entry</h4>
			<form id="create-form">
				<p>Date: <span id="datetime"></span></p>
				<script>
					var dt = new Date();
					document.getElementById("datetime").innerHTML = dt.toLocaleDateString();
				</script>
				SUDs:
				<select name="suds" id='suds' required>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
				</select>
				
				Summary:
				<div class="input-field">
					<textarea id="summary" class="materialize-textarea" required></textarea>
				</div>

				<button class="matBTN">Create Entry</button>

			</form>
		</div>
	</div>
	
	<div class="container">
		<div class="card border-0 shadow my-5">

			<!-- Logged In -->
			<div class="card-body p-5 logged-in">
				<div class="entryBox">

					<div class="EntriesContainer">
						<div class="scroll-header">
							<h2>Previous Entries</h2>
						</div>	
						<div class="scroll-entries">
							<ul class="collapsible entries">
			
							</ul>
						</div>
					</div>
					<br>
					<button class="matBTN modal-trigger logged-in"style="display: none" data-target="modal-create">Add Entry</button>
				</div>
		  </div>

		  <!-- Logged Out -->
		  <div class="card-body p-5 logged-out">
			<div class="container">
				<h2>Welcome to MyTherapy</h2>
				<div id="myCarousel" class="carousel slide" data-ride="carousel">
					<!-- Indicators -->
					<ol class="carousel-indicators">
					  <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
					  <li data-target="#myCarousel" data-slide-to="1"></li>
					  <li data-target="#myCarousel" data-slide-to="2"></li>
					</ol>
				
					<!-- Wrapper for slides -->
					<div class="carousel-inner">
				
					  <div class="item active">
						<img src="Images/therapy.jpg" alt="MyTherapy" style="width:83%; height: 100%;">
						<div class="carousel-caption">
							<div class="cap">
								<h3>MyTherapy</h3>
							</div>
						</div>
					  </div>
				
					  <div class="item">
						<img src="Images/cbt.jpg" alt="Based on CBT" style="width:90%; height: 100%">
						<div class="carousel-caption">
						  <div class="cap">
							<h3>Based on CBT</h3>
						  </div>
						</div>
					  </div>
					
					  <div class="item">
						<img src="Images/talk.jpg" alt="Enhance your Therapy" style="width:107%; height: 100%;">
						<div class="carousel-caption">
						  <div class="cap">
							<h3>Enhance Your Therapy</h3>
						  </div>
						</div>
					  </div>
				  
					</div>
				
					<!-- Left and right controls -->
					<a class="left carousel-control" href="#myCarousel" data-slide="prev">
					  <span class="glyphicon glyphicon-chevron-left"></span>
					  <span class="sr-only">Previous</span>
					</a>
					<a class="right carousel-control" href="#myCarousel" data-slide="next">
					  <span class="glyphicon glyphicon-chevron-right"></span>
					  <span class="sr-only">Next</span>
					</a>
				</div>

				<div class="about col-sm-6">
					<div class="about-section">
						<h3>What is MyTherapy?</h3>
						<p>MyTherapy is part of an initiative to create an online therapy
							tool, based off the concept of Cognitive Behavioural Therapy and CBT 
							worksheets. Using these concepts, patients and therapists can work together
							to enact real change in the patients life. 
						</p>
					</div>
				</div>
				
				<div class="about col">
					<div class="about-section">
						<h3>Based on CBT</h3>
						<p>
							MyTherapy is based on the concept of Cognitive Behavioural Therapy
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-app.js"></script>
  	<script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-auth.js"></script>
  	<script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-firestore.js"></script>
  	<script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-functions.js"></script>

	<script>
		var firebaseConfig = {
   		apiKey: "AIzaSyA0gpT-psrA1oaXFmp6V4snnjWsg4xIx8w",
    	authDomain: "mytherapy-8776f.firebaseapp.com",
    	databaseURL: "https://mytherapy-8776f.firebaseio.com",
    	projectId: "mytherapy-8776f",
    	//storageBucket: "mytherapy-8776f.appspot.com",
    	//messagingSenderId: "976009179852",
    	appId: "1:976009179852:web:dec8630a2c7782e2f5c869",
    	//measurementId: "G-RT4VGFYJZH"
	};
  
		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);

		//Make auth and firebase references
		const auth = firebase.auth();
		const db = firebase.firestore();
		const functions = firebase.functions();

		//Update firestore settings
		db.settings({
    		timestampsInSnapshots: true
		});

	</script>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	<script src="auth.js"></script>
	<script src="modals.js"></script>
	<script src="entries.js"></script>
	<script src="menu.js"></script>

</body>
</html>